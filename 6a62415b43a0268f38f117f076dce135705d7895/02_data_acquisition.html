<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>02 Data Acqusition</title>

<script src="site_libs/header-attrs-2.13/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">MyLabJournal</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Index</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Journal
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="01_tidyverse.html">Tidyverse</a>
    </li>
    <li>
      <a href="02_data_acquisition.html">Data Acquisition</a>
    </li>
    <li>
      <a href="03_data_wrangling.html">03 Data Wrangling</a>
    </li>
    <li>
      <a href="04_data_visualization.html">Data Visualization</a>
    </li>
    <li>
      <a href="Machine_Learning.html">Machine_Learning</a>
    </li>
  </ul>
</li>
<li>
  <a href="05_class_notes.html">Class notes</a>
</li>
<li>
  <a href="06_links.html">Links</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">02 Data Acqusition</h1>
<h4 class="date">2022-03</h4>

</div>


<div id="data-acquisition" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Data Acquisition</h1>
<div id="challenge-1--get-data-with-api" class="section level2" number="1.1">
<h2><span class="header-section-number">1.1</span> Challenge 1- Get data with API</h2>
<pre class="r"><code>#Load libraries
library(httr)
library(tidyverse)
#getting data from spotify 
clientID = &#39;caba8ed3155444e9aea7331dcd43bd69&#39;
secret = &#39;269afd3f95e54e2cad66234672000e47&#39;
response = POST(&#39;https://accounts.spotify.com/api/token&#39;,
  accept_json(),
  authenticate(clientID, secret),
  body = list(grant_type = &#39;client_credentials&#39;),
  encode = &#39;form&#39;,
  verbose()
)</code></pre>
<pre class="r"><code>mytoken = content(response)$access_token
HeaderValue = paste0(&#39;Bearer &#39;, mytoken)
albumID = &quot;1NAmidJlEaVgA3MpcPFYGq&quot;
track_URI = paste0(&#39;https://api.spotify.com/v1/albums/&#39;, albumID,&#39;/tracks&#39;)
track_response = GET(url = track_URI, add_headers(Authorization = HeaderValue))
tracks = content(track_response)

ntracks = length(tracks$items)
tracks_list&lt;-data.frame(
  name=character(ntracks),
  id=character(ntracks),
  artist=character(ntracks),
  disc_number=numeric(ntracks),
  track_number=numeric(ntracks),
  duration_ms=numeric(ntracks),
  stringsAsFactors=FALSE
)

for(i in 1:ntracks){
  tracks_list[i,]$id &lt;- tracks$items[[i]]$id
  tracks_list[i,]$name &lt;- tracks$items[[i]]$name
  tracks_list[i,]$artist &lt;- tracks$items[[i]]$artists[[1]]$name
  tracks_list[i,]$disc_number &lt;- tracks$items[[i]]$disc_number
  tracks_list[i,]$track_number &lt;- tracks$items[[i]]$track_number
  tracks_list[i,]$duration_ms &lt;- tracks$items[[i]]$duration_ms
}
tracks_list_tbl&lt;-tracks_list
tracks_list_tbl %&gt;% glimpse()</code></pre>
<pre><code>## Rows: 18
## Columns: 6
## $ name         &lt;chr&gt; &quot;I Forgot That You Existed&quot;, &quot;Cruel Summer&quot;, &quot;Lover&quot;, &quot;Th~
## $ id           &lt;chr&gt; &quot;43rA71bccXFGD4C8GOpIlN&quot;, &quot;1BxfuPKGuaTgP7aM0Bbdwr&quot;, &quot;1dGr~
## $ artist       &lt;chr&gt; &quot;Taylor Swift&quot;, &quot;Taylor Swift&quot;, &quot;Taylor Swift&quot;, &quot;Taylor S~
## $ disc_number  &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
## $ track_number &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17~
## $ duration_ms  &lt;dbl&gt; 170640, 178426, 221306, 190360, 211240, 173386, 234146, 2~</code></pre>
</div>
<div id="challenge-2--web-scraping" class="section level2" number="1.2">
<h2><span class="header-section-number">1.2</span> Challenge 2- Web Scraping</h2>
<pre class="r"><code>library(rvest)
library(stringi)
library(xopen)
library(jsonlite)
library(tidyverse)
library(glue)

url &lt;- &quot;https://www.radon-bikes.de&quot;
#xopen(url)
html_home &lt;- read_html(url)

#Get url for each of the product categories
bike_category_url_tbl &lt;- html_home %&gt;% html_nodes(&quot;.megamenu__item&quot;) %&gt;% html_elements(&quot;a&quot;) %&gt;% 
  html_attr(&#39;href&#39;) %&gt;% enframe(name = &#39;position&#39;,value = &#39;title&#39;) %&gt;% mutate(
    category_url=glue(&quot;https://www.radon-bikes.de{title}&quot;)
  ) %&gt;% filter(position&lt;9)

#Get the Model Names
get_bike_data &lt;- function(link){
  model_infor &lt;- read_html(link) %&gt;% html_nodes(&quot;.o-slick-slider__slide-content&quot;) %&gt;%
  html_element(&quot;h2&quot;) %&gt;% html_text() %&gt;% enframe(name = &quot;position&quot;,value = &#39;model&#39;)
  
  #Get the sizes
  bike_sizes &lt;- read_html(link) %&gt;% html_nodes(&quot;.o-slick-slider__slide-content&quot;)%&gt;%  
  html_node(&#39;.m-bikegrid__size&#39;) %&gt;% html_text() %&gt;% str_extract(&quot;[0-9].+&quot;)%&gt;% 
 enframe(name = &quot;position&quot;,value = &quot;size&quot;)
  
#Get the prices
  bike_prices &lt;- read_html(link) %&gt;% html_nodes(&quot;.m-serienpanel__price--active&quot;) %&gt;% html_text() %&gt;% 
    str_remove(&quot;^ .$&quot;) %&gt;%  stri_remove_empty() %&gt;%  enframe(name=&#39;position&#39;,value = &#39;price&#39;)
  
#combine three using position
   model_infor %&gt;% left_join(bike_sizes) %&gt;% left_join(bike_prices) %&gt;%
    filter(position!=23)
}

# Get the URl for 1st category
category_1 &lt;-  bike_category_url_tbl$category_url[2] 
bike_model&lt;- get_bike_data(link = category_1)

bike_category_url_data &lt;- bike_category_url_tbl %&gt;% pull(category_url) 

bike_data_list &lt;- map(bike_category_url_data,get_bike_data) 

bike_data_tbl &lt;- bind_rows(bike_data_list) 

#removing &quot;Euro&quot; symbol from price
bike_data_tbl$price&lt;-gsub(&quot;€&quot;,&quot;&quot;,as.character(bike_data_tbl$price))%&gt;% na.exclude()
bike_data_tbl  %&gt;% head(n=10)# display 10 rows</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["position"],"name":[1],"type":["int"],"align":["right"]},{"label":["model"],"name":[2],"type":["chr"],"align":["left"]},{"label":["size"],"name":[3],"type":["chr"],"align":["left"]},{"label":["price"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"1","2":"JEALOUS 8.0","3":"29\"","4":"2599"},{"1":"2","2":"JEALOUS 9.0","3":"29\"","4":"2999"},{"1":"3","2":"JEALOUS 10.0","3":"29\"","4":"4199"},{"1":"4","2":"JEALOUS 10.0 EA","3":"29\"","4":"5499"},{"1":"5","2":"JEALOUS AL 8.0","3":"29\"","4":"1099"},{"1":"6","2":"JEALOUS AL 8.0 HD","3":"29\"","4":"1499"},{"1":"7","2":"JEALOUS AL 9.0","3":"29\"","4":"1649"},{"1":"8","2":"JEALOUS AL 9.0 MS","3":"29\"","4":"1649"},{"1":"9","2":"JEALOUS AL 10.0","3":"29\"","4":"1849"},{"1":"10","2":"JEALOUS AL 10.0 SL","3":"29\"","4":"2199"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="business-case" class="section level2" number="1.3">
<h2><span class="header-section-number">1.3</span> Business case</h2>
<pre class="r"><code># WEBSCRAPING ----

# 1.0 LIBRARIES ----

library(tidyverse) # Main Package - Loads dplyr, purrr, etc.
library(rvest)     # HTML Hacking &amp; Web Scraping
library(xopen)     # Quickly opening URLs
library(jsonlite)  # converts JSON files to R objects
library(glue)      # concatenate strings
library(stringi)   # character string/text processing

url_home          &lt;- &quot;https://www.canyon.com/en-de&quot;
html_home         &lt;- read_html(url_home)

# 01. Get bike categories ----
bike_category_tbl &lt;- html_home %&gt;%
  
  # Get the nodes for the families ...
  html_nodes(css = &quot;.is-bikeCategory .js-menuItemThirdLevel&quot;) |&gt; 
  html_attr(&quot;href&quot;) |&gt; 
  as_tibble() |&gt; 
  rename(&quot;url&quot; = value) |&gt; 
  mutate(url = str_c(&quot;https://www.canyon.com&quot;, url))


# 02a. Get bike urls (single category)
bike_category_url &lt;- bike_category_tbl$url[2]

html_bike_category  &lt;- read_html(bike_category_url)
bike_url_tbl        &lt;- html_bike_category %&gt;%
  
  # Get the &#39;a&#39; nodes, which are hierarchally underneath 
  # the class productTile__contentWrapper
  html_nodes(css = &quot;.productTile__contentWrapper &gt; a&quot;) %&gt;%
  html_attr(&quot;href&quot;) %&gt;%
  
  # Remove the query parameters of the URL (everything after the &#39;?&#39;)
  str_remove(pattern = &quot;\\?.*&quot;) %&gt;%
  
  # Convert vector to tibble
  enframe(name = &quot;position&quot;, value = &quot;url&quot;)

bike_category_tbl </code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["url"],"name":[1],"type":["chr"],"align":["left"]}],"data":[{"1":"https://www.canyon.com/en-de/road-bikes/aero-bikes/aeroad/"},{"1":"https://www.canyon.com/en-de/road-bikes/triathlon-bikes/speedmax/"},{"1":"https://www.canyon.com/en-de/road-bikes/endurance-bikes/endurace/"},{"1":"https://www.canyon.com/en-de/road-bikes/race-bikes/ultimate/"},{"1":"https://www.canyon.com/en-de/road-bikes/aero-bikes/aeroad/"},{"1":"https://www.canyon.com/en-de/road-bikes/cyclocross-bikes/inflite/"},{"1":"https://www.canyon.com/en-de/road-bikes/triathlon-bikes/speedmax/"},{"1":"https://www.canyon.com/en-de/gravel-bikes/all-road/grail/"},{"1":"https://www.canyon.com/en-de/road-bikes/endurance-bikes/endurace/"},{"1":"https://www.canyon.com/en-de/gravel-bikes/bike-packing/grizl/"},{"1":"https://www.canyon.com/en-de/gravel-bikes/bike-packing/grizl/"},{"1":"https://www.canyon.com/en-de/gravel-bikes/all-road/grail/"},{"1":"https://www.canyon.com/en-de/gravel-bikes/all-road/grail/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/enduro-bikes/strive/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/trail-bikes/spectral/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/enduro-bikes/torque/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/trail-bikes/grand-canyon/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/trail-bikes/neuron/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/trail-bikes/stoic/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/trail-bikes/spectral-125/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/trail-bikes/spectral/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-mountain-bikes/grandcanyon-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-mountain-bikes/neuron-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-mountain-bikes/spectral-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-mountain-bikes/torque-on/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/cross-country-bikes/exceed/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/trail-bikes/grand-canyon/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/cross-country-bikes/lux/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/downhill-bikes/sender/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/enduro-bikes/torque/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/dirt-jump-bikes/stitched/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/fat-bikes/dude/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/youth-kids/grand-canyon-young-hero/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/youth-kids/neuron-young-hero/"},{"1":"https://www.canyon.com/en-de/mountain-bikes/youth-kids/spectral-young-hero/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-road-bikes/endurace-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-city-bike/roadlite-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-gravel-bikes/grail-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-mountain-bikes/grandcanyon-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-mountain-bikes/neuron-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-mountain-bikes/spectral-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-mountain-bikes/torque-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-city-bike/roadlite-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-city-bike/commuter-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-city-bike/precede-on/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-touring-bikes/pathlite-on/"},{"1":"https://www.canyon.com/en-de/hybrid-bikes/city-bikes/roadlite/"},{"1":"https://www.canyon.com/en-de/hybrid-bikes/commuter-bikes/commuter/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-city-bike/precede-on/"},{"1":"https://www.canyon.com/en-de/hybrid-bikes/commuter-bikes/commuter/"},{"1":"https://www.canyon.com/en-de/electric-bikes/electric-city-bike/precede-on/"},{"1":"https://www.canyon.com/en-de/hybrid-bikes/touring-bikes/pathlite/"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<pre class="r"><code># 02b. Get bike description (single category)
bike_desc_tbl &lt;- html_bike_category %&gt;%
  
  # Get the nodes in the meta tag where the attribute itemprop equals description
  html_nodes(&#39;.productTile__productSummaryLeft &gt; meta[itemprop=&quot;description&quot;]&#39;) %&gt;%
  
  # Extract the content of the attribute content
  html_attr(&quot;content&quot;) %&gt;%
  
  # Convert vector to tibble
  enframe(name = &quot;position&quot;, value = &quot;description&quot;)

bike_desc_tbl</code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["position"],"name":[1],"type":["int"],"align":["right"]},{"label":["description"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"1","2":"Canyon - Exceptional ergonomics and rider-specific customisation come together with next-level aerodynamics to bring you world class-triathlon performance at an unbeatable value. Through thoughtful details like the top tube snake, bottom bracket toolkit and integrated bento box, the Speedmax CF 8 Disc comes out of the box ready for racing."},{"1":"2","2":"Canyon - Drawing on the world-level performance DNA of the flagship Speedmax CFR, the Speedmax CF 7 Disc offers superb speed and unprecedented adjustability to newcomers and experienced racers alike thanks to its clever, integrated solutions and one-of-a-kind frame."},{"1":"3","2":"Canyon - An excellent tri bike is aerodynamic, comfortable, adjustable and seamlessly integrates critical features into the frame. The Speedmax CF 7 Disc eTap is all of that and more. With head-turning Reynolds carbon wheels and hyper-precise SRAM electronic shifting, it was designed to perform at the highest level."},{"1":"4","2":"Canyon - You know every second of your bike split counts, and that an aerodynamic, efficient and ergonomic bike can make the difference in setting a new PB. By choosing the Speedmax CF 8 WMN Disc, you’re guaranteed the highest levels of tri performance a bike can offer so that you can focus on riding your best."},{"1":"5","2":"Canyon - Exceptional ergonomics and rider-specific customisation come together with next-level aerodynamics to bring you world class-triathlon performance at an unbeatable value. Through thoughtful details like the top tube snake, bottom bracket toolkit and integrated bento box, the Speedmax CF 8 Disc comes out of the box ready for racing."},{"1":"6","2":"Canyon - A high-performance, aerodynamic triathlon bike that can be perfectly adjusted to your riding style, the Speedmax CF 8 Disc Di2 incorporates accurate electronic shifting, a precise power meter and deep-section aero wheels into an award-winning frame – all at a stellar value."},{"1":"7","2":"Canyon - The Speedmax CF 8 WMN Disc Di2 pulls no punches as one of the quickest women’s-specific tri bikes on the market. The high-performance frameset comes fully-outfitted with reliable and wireless Shimano Ultegra Di2 shifting and world-class aero wheels at a truly competitive price."},{"1":"8","2":"Canyon - Ridden by the likes of World Champions Jan Frodeno and Patrick Lange, the Speedmax CF SLX held the title ‘King of Kona’ for five straight years and the bike has only gotten better. The updated frame sets the standard in adjustability, integration, aerodynamics and handling so you can smash your personal bests."},{"1":"9","2":"Canyon - An excellent tri bike is aerodynamic, comfortable, adjustable and seamlessly integrates important features into the frame. The Speedmax CF 8 Disc eTap is all of that and more. With head-turning Zipp Firecrest wheels and hyper-precise SRAM electronic shifting, it was designed to perform at the highest level."},{"1":"10","2":"Canyon - A world class performance demands a world class bike. The all-new Speedmax CFR sets a new standard for what a triathlon bike can do by packing the highest levels of adjustability, aerodynamics, integration and comfort into a lightweight frame kitted with the best components available. The only thing left to do is qualify for Kona!"},{"1":"11","2":"Canyon - The most accomplished triathlon bike in the world just got even better. With greater adjustability, improved aerodynamics, refined storage options and unprecedented levels of innovative integration, the new Speedmax leaves no stone left unturned to deliver world class triathlon performance."},{"1":"12","2":"Canyon - How do you make the best triathlon bike? Using state-of-the art materials and born from years of feedback between the finest engineers and the world’s best triathletes, the Speedmax CFR sets a new benchmark for triathlon performance. Ride like Frodeno with Canyon Factory Racing."},{"1":"13","2":"Canyon - Fast, aerodynamic, lightweight and comfortable, our engineers designed the new Speedmax to meet the needs of the best triathletes on the planet and now it’s time for you to reap the benefits. Once you’ve perfectly adjusted the bike to your specific riding style, your personal best is as good as gone."},{"1":"14","2":"Canyon - The pinnacle of triathlon bike technology, the Speedmax CFR is our answer to the question: How fast can a bike be? From racing to training, experience the culmination of years of collaboration between the world’s best triathletes and our most-skilled engineers."}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
